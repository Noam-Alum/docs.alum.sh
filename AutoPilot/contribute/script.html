<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Contribute to AutoPilot script | ALUM.SH - docs</title>
    <meta name="generator" content="VuePress 1.9.10">
    <link rel="shortcut icon" type="image/png" href="/images/logo.png">
    <meta name="description" content="ALUM.SH Documents">
    
    <link rel="preload" href="/assets/css/0.styles.fdf36a1d.css" as="style"><link rel="preload" href="/assets/js/app.55f39487.js" as="script"><link rel="preload" href="/assets/js/2.caa605eb.js" as="script"><link rel="preload" href="/assets/js/1.11b9c08f.js" as="script"><link rel="preload" href="/assets/js/28.1d24da12.js" as="script"><link rel="prefetch" href="/assets/js/10.45728484.js"><link rel="prefetch" href="/assets/js/11.6170b35e.js"><link rel="prefetch" href="/assets/js/12.7b1c67c6.js"><link rel="prefetch" href="/assets/js/13.37b4c9f8.js"><link rel="prefetch" href="/assets/js/14.06d64f86.js"><link rel="prefetch" href="/assets/js/15.72a9a369.js"><link rel="prefetch" href="/assets/js/16.89805920.js"><link rel="prefetch" href="/assets/js/17.eb9102ab.js"><link rel="prefetch" href="/assets/js/18.a01b6027.js"><link rel="prefetch" href="/assets/js/19.d81a04ea.js"><link rel="prefetch" href="/assets/js/20.5fe1bb01.js"><link rel="prefetch" href="/assets/js/21.b0b215c1.js"><link rel="prefetch" href="/assets/js/22.55861dc8.js"><link rel="prefetch" href="/assets/js/23.571aa404.js"><link rel="prefetch" href="/assets/js/24.229a1ace.js"><link rel="prefetch" href="/assets/js/25.f245735b.js"><link rel="prefetch" href="/assets/js/26.829f2091.js"><link rel="prefetch" href="/assets/js/27.350dc1b3.js"><link rel="prefetch" href="/assets/js/29.e2616b8e.js"><link rel="prefetch" href="/assets/js/3.e1592144.js"><link rel="prefetch" href="/assets/js/30.ce74ebbb.js"><link rel="prefetch" href="/assets/js/31.45ff122d.js"><link rel="prefetch" href="/assets/js/32.95cd7272.js"><link rel="prefetch" href="/assets/js/33.b87ff303.js"><link rel="prefetch" href="/assets/js/34.2bb0cd24.js"><link rel="prefetch" href="/assets/js/35.8d6b0130.js"><link rel="prefetch" href="/assets/js/36.677b3ece.js"><link rel="prefetch" href="/assets/js/37.b79ecb69.js"><link rel="prefetch" href="/assets/js/38.1a8e34c2.js"><link rel="prefetch" href="/assets/js/39.b8b77210.js"><link rel="prefetch" href="/assets/js/4.36ae442e.js"><link rel="prefetch" href="/assets/js/40.5c788e72.js"><link rel="prefetch" href="/assets/js/41.93c667b9.js"><link rel="prefetch" href="/assets/js/42.1aeb544d.js"><link rel="prefetch" href="/assets/js/43.6a36f6f9.js"><link rel="prefetch" href="/assets/js/44.0b686701.js"><link rel="prefetch" href="/assets/js/45.ad9dcd14.js"><link rel="prefetch" href="/assets/js/46.439872eb.js"><link rel="prefetch" href="/assets/js/47.077b7351.js"><link rel="prefetch" href="/assets/js/48.3348ebef.js"><link rel="prefetch" href="/assets/js/49.d23acf7a.js"><link rel="prefetch" href="/assets/js/5.2c656b35.js"><link rel="prefetch" href="/assets/js/50.c9914614.js"><link rel="prefetch" href="/assets/js/51.0df236d4.js"><link rel="prefetch" href="/assets/js/52.5c4d2b1b.js"><link rel="prefetch" href="/assets/js/53.cedc56d6.js"><link rel="prefetch" href="/assets/js/54.eb681895.js"><link rel="prefetch" href="/assets/js/55.1ff20118.js"><link rel="prefetch" href="/assets/js/56.01664e32.js"><link rel="prefetch" href="/assets/js/57.736fe7dc.js"><link rel="prefetch" href="/assets/js/58.bbabd896.js"><link rel="prefetch" href="/assets/js/59.9affad11.js"><link rel="prefetch" href="/assets/js/6.3ec5bc43.js"><link rel="prefetch" href="/assets/js/60.49672ad4.js"><link rel="prefetch" href="/assets/js/61.5c042d6d.js"><link rel="prefetch" href="/assets/js/7.b0488cc8.js"><link rel="prefetch" href="/assets/js/vendors~docsearch.d098b00c.js">
    <link rel="stylesheet" href="/assets/css/0.styles.fdf36a1d.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/images/logo.png" alt="ALUM.SH - docs" class="logo"> <span class="site-name can-hide">ALUM.SH - docs</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="https://alum.sh/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Main site
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="/" class="nav-link">
  Documents
</a></div><div class="nav-item"><a href="https://alum.sh/assets/requests.php" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Requests
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <a href="https://github.com/Noam-Alum/" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="https://alum.sh/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Main site
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="/" class="nav-link">
  Documents
</a></div><div class="nav-item"><a href="https://alum.sh/assets/requests.php" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Requests
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <a href="https://github.com/Noam-Alum/" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><a href="/" aria-current="page" class="sidebar-link">ALUM.SH - docs</a></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>utils.sh</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>AutoPilot - It's simple</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/AutoPilot/Introduction.html" class="sidebar-link">AutoPilot   Introduction</a></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>Directives</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>HowTo</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading open"><span>Contribute</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/AutoPilot/contribute/QA.html" class="sidebar-link">QA - Quality Assurance</a></li><li><a href="/AutoPilot/contribute/docs.html" class="sidebar-link">Contribute to AutoPilots docs</a></li><li><a href="/AutoPilot/contribute/script.html" aria-current="page" class="active sidebar-link">Contribute to AutoPilot script</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/AutoPilot/contribute/script.html#prerequisites" class="sidebar-link">Prerequisites</a></li><li class="sidebar-sub-header"><a href="/AutoPilot/contribute/script.html#make-changes" class="sidebar-link">Make changes</a></li><li class="sidebar-sub-header"><a href="/AutoPilot/contribute/script.html#test-changes" class="sidebar-link">Test changes</a></li><li class="sidebar-sub-header"><a href="/AutoPilot/contribute/script.html#send-a-pr" class="sidebar-link">Send a PR</a></li></ul></li></ul></section></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Make backup</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>OTS </span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>WP manager</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>wp_recovery</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>jet-tools</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="contribute-to-autopilot-script"><a href="#contribute-to-autopilot-script" class="header-anchor">#</a> <img src="/images/AutoPilot-Icons/script.png" alt="script image" width="28" height="auto"> Contribute to AutoPilot script</h1> <p><strong>In this page I will walk you trough how to contribute to AutoPilot script.</strong></p> <img src="/images/AutoPilot-contribute.png" style="width:900px;height:auto;"> <h2 id="prerequisites"><a href="#prerequisites" class="header-anchor">#</a> Prerequisites</h2> <ol><li>AutoPilot <a href="https://docs.github.com/en/pull-requests/collaborating-with-pull-requests/working-with-forks/fork-a-repo" target="_blank" rel="noopener noreferrer">forked<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> on your GitHub account.</li> <li>Text editor.</li> <li>Some sort of VM setup (optional).</li></ol> <h2 id="make-changes"><a href="#make-changes" class="header-anchor">#</a> Make changes</h2> <p>There are several functions you need to know before making any changes:</p> <ul><li><strong>xecho:</strong><br>
Every time you want to <code>echo</code> something you <strong>need</strong> to use the following format:<div class="language-bash extra-class"><pre class="language-bash"><code>xecho <span class="token string">&quot;$[Choosen prefix] &lt;biw&gt;[Text data]&lt;biw&gt;&quot;</span>
</code></pre></div>Here are all the prefixes variables available:
<ul><li><code>$info_prefix</code> - Anything that doesnt indicate something.</li> <li><code>$good_prefix</code> - Something good happend.</li> <li><code>$notgood_prefix</code> - Something not good happend but nothing crucial happend.</li> <li><code>$bad_prefix</code> - Something bad happend. (e.g. an error)
<strong>For example</strong>:<br>
If I wanted to notify the user that what ever I wanted to happend succeeded, I would use something like this:</li></ul> <div class="language-bash extra-class"><pre class="language-bash"><code>xecho <span class="token string">&quot;<span class="token variable">$good_prefix</span> &lt;biw&gt;What ever I wanted to happen happend.&lt;/biw&gt;&quot;</span>
</code></pre></div><div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>For extended explenation on the <code>xecho</code> function, refer <a href="https://docs.alum.sh/utils.sh/functions/xecho.html" target="_blank" rel="noopener noreferrer">here<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <blockquote><p>You still have to format all text to be bold intense white.</p></blockquote></div></li> <li><strong>fail:</strong><br>
When you want to exit the script, you would have to cal the <code>fail</code> function.
Here's the syntax:<div class="language-bash extra-class"><pre class="language-bash"><code>fail <span class="token punctuation">[</span>EXIT CODE<span class="token punctuation">]</span> <span class="token string">&quot;[TEXT DATA]&quot;</span>
</code></pre></div>For example:<div class="language-bash extra-class"><pre class="language-bash"><code>fail <span class="token number">1</span> <span class="token string">&quot;File not found.&quot;</span>
</code></pre></div></li> <li><strong>check_dependencies:</strong><br>
When you want to install a new dependencie for what ever reason, you would use <code>check_dependencies</code>:<div class="language-bash extra-class"><pre class="language-bash"><code>check_dependencies <span class="token string">&quot;[Dependency name]&quot;</span> <span class="token string">&quot;<span class="token variable">$notgood_prefix</span> &lt;biw&gt;[TEXT DATA]&lt;/biw&gt;&quot;</span> <span class="token string">&quot;[CMD TO INSTALL]&quot;</span> <span class="token string">&quot;[TEST AFTER INSTALL]&quot;</span>
</code></pre></div>For example:<div class="language-bash extra-class"><pre class="language-bash"><code>check_dependencies <span class="token string">&quot;network-manager&quot;</span> <span class="token string">&quot;<span class="token variable">$notgood_prefix</span> &lt;biw&gt;Dependency missing, trying to install network-manager.&lt;/biw&gt;&quot;</span> <span class="token string">&quot;apt install -yq network-manager &amp;&gt; /dev/null&quot;</span> <span class="token string">&quot;which nmcli&quot;</span>
</code></pre></div><div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>I <strong>do not</strong> recommend adding dependencies to AutoPilot.</p></div></li> <li><strong>parse_yaml:</strong><br>
Like you probably know, AutoPilot uses <em>YAML</em> for its configuration files, this fuction is meant for you to parse new YAML easly.
<ol><li><p>Extract Keys from a List or Dictionary:</p> <div class="language-bash extra-class"><pre class="language-bash"><code>parse_yaml keys <span class="token string">&quot;yaml_path&quot;</span> <span class="token string">&quot;sub_key&quot;</span>
</code></pre></div><ul><li><strong><code>yaml_path</code></strong>: Path to the YAML list or dictionary.</li> <li><strong><code>sub_key</code></strong>: Sub-key within the items to extract (optional).</li></ul> <p><strong>Example</strong>:</p> <div class="language-bash extra-class"><pre class="language-bash"><code>parse_yaml keys <span class="token string">&quot;items&quot;</span> <span class="token string">&quot;name&quot;</span>
</code></pre></div><p>This command will list all names in the <code>items</code> list to STDOUT.</p></li> <li><p>Extract a Single Value:</p> <div class="language-bash extra-class"><pre class="language-bash"><code>parse_yaml <span class="token number">0</span> <span class="token string">&quot;yaml_path&quot;</span>
</code></pre></div><ul><li><strong><code>yaml_path</code></strong>: Path to the YAML value.</li></ul> <p><strong>Example</strong>:</p> <div class="language-bash extra-class"><pre class="language-bash"><code>parse_yaml <span class="token number">0</span> <span class="token string">&quot;SELinux&quot;</span>
</code></pre></div><p>This command retrieves the value at <code>SELinux</code> and assigns it to a variable named like the <code>yaml_path</code>.</p></li> <li><p>Extract a List of Values to an Array:</p> <div class="language-bash extra-class"><pre class="language-bash"><code>parse_yaml <span class="token number">1</span> <span class="token string">&quot;yaml_path&quot;</span>
</code></pre></div><ul><li><strong><code>yaml_path</code></strong>: Path to the YAML list.</li></ul> <p><strong>Example</strong>:</p> <div class="language-bash extra-class"><pre class="language-bash"><code>parse_yaml <span class="token number">1</span> <span class="token string">&quot;names&quot;</span>
</code></pre></div><p>This command extracts all items from <code>names</code> and stores them in an array named like the <code>yaml_path</code>.</p></li> <li><p>Extract Key-Value Pairs to an Associative Array:</p> <div class="language-bash extra-class"><pre class="language-bash"><code>parse_yaml <span class="token number">2</span> <span class="token string">&quot;yaml_path&quot;</span> <span class="token string">&quot;key_path&quot;</span> <span class="token string">&quot;value_path&quot;</span>
</code></pre></div><ul><li><strong><code>yaml_path</code></strong>: Path to the YAML list.</li> <li><strong><code>key_path</code></strong>: Path to the key within the items.</li> <li><strong><code>value_path</code></strong>: Path to the value associated with each key.</li></ul> <p><strong>Example</strong>:</p> <div class="language-bash extra-class"><pre class="language-bash"><code>parse_yaml <span class="token number">2</span> <span class="token string">&quot;items&quot;</span> <span class="token string">&quot;name&quot;</span> <span class="token string">&quot;value&quot;</span>
</code></pre></div><p>This command extracts key-value pairs where the keys are from <code>name</code> and the values are from <code>value</code>, storing them in an associative array named like the <code>yaml_path</code>.</p></li> <li><p>Extract Key-Value Pairs with Two Values per Key:</p> <div class="language-bash extra-class"><pre class="language-bash"><code>parse_yaml <span class="token number">3</span> <span class="token string">&quot;yaml_path&quot;</span> <span class="token string">&quot;key_path&quot;</span> <span class="token string">&quot;value1_path&quot;</span> <span class="token string">&quot;value2_path&quot;</span>
</code></pre></div><ul><li><strong><code>yaml_path</code></strong>: Path to the YAML list.</li> <li><strong><code>key_path</code></strong>: Path to the key within the items.</li> <li><strong><code>value1_path</code></strong>: Path to the first value associated with each key.</li> <li><strong><code>value2_path</code></strong>: Path to the second value associated with each key.</li></ul> <p><strong>Example</strong>:</p> <div class="language-bash extra-class"><pre class="language-bash"><code>parse_yaml <span class="token number">3</span> <span class="token string">&quot;config.items&quot;</span> <span class="token string">&quot;name&quot;</span> <span class="token string">&quot;value1&quot;</span> <span class="token string">&quot;value2&quot;</span>
</code></pre></div><p>This command extracts key-value pairs where each key from <code>name</code> has two associated values from <code>value1</code> and <code>value2</code>.<br>
To access the data use something like this:</p> <div class="language-bash extra-class"><pre class="language-bash"><code>parse_yaml <span class="token number">3</span> Installed_packages name <span class="token builtin class-name">type</span> <span class="token builtin class-name">source</span>
<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token string">&quot;<span class="token variable">${<span class="token operator">#</span>Installed_packages<span class="token punctuation">[</span>@<span class="token punctuation">]</span>}</span>&quot;</span> <span class="token parameter variable">-ne</span> <span class="token number">0</span> <span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">then</span>
	<span class="token assign-left variable">IP_keys</span><span class="token operator">=</span><span class="token punctuation">(</span><span class="token variable"><span class="token variable">$(</span><span class="token function">tr</span> <span class="token string">' '</span> <span class="token string">'\n'</span> <span class="token operator">&lt;&lt;&lt;</span> <span class="token string">&quot;<span class="token variable">${<span class="token operator">!</span>Installed_packages<span class="token punctuation">[</span>@<span class="token punctuation">]</span>}</span>&quot;</span> <span class="token operator">|</span> <span class="token function">grep</span> <span class="token parameter variable">-Ev</span> <span class="token string">'\[(0|1)\]'</span> <span class="token operator">|</span> <span class="token function">sort</span> <span class="token parameter variable">-u</span><span class="token variable">)</span></span><span class="token punctuation">)</span>
	<span class="token keyword">for</span> <span class="token for-or-select variable">pkg</span> <span class="token keyword">in</span> <span class="token string">&quot;<span class="token variable">${IP_keys<span class="token punctuation">[</span>@<span class="token punctuation">]</span>}</span>&quot;</span>
	<span class="token keyword">do</span>
	<span class="token assign-left variable">pkg_type</span><span class="token operator">=</span><span class="token string">&quot;${Installed_packages[&quot;</span><span class="token variable">$pkg</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token string">&quot;]}&quot;</span>
	<span class="token assign-left variable">pkg_source</span><span class="token operator">=</span><span class="token string">&quot;${Installed_packages[&quot;</span><span class="token variable">$pkg</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token string">&quot;]}&quot;</span>
<span class="token keyword">fi</span>
</code></pre></div><blockquote><p>This was the YAML:</p> <div class="language-yaml extra-class"><pre class="language-yaml"><code><span class="token key atrule">Installed_packages</span><span class="token punctuation">:</span>
<span class="token key atrule">Installed_packages</span><span class="token punctuation">:</span>
  <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> AnyName
    <span class="token key atrule">type</span><span class="token punctuation">:</span> Deb/Pkg/Sh
    <span class="token key atrule">source</span><span class="token punctuation">:</span> Deb name/Package url/Script url
</code></pre></div></blockquote></li> <li><p>Extract Key-Value Pairs with Three Values per Key:</p> <div class="language-bash extra-class"><pre class="language-bash"><code>parse_yaml <span class="token number">4</span> <span class="token string">&quot;yaml_path&quot;</span> <span class="token string">&quot;key_path&quot;</span> <span class="token string">&quot;value1_path&quot;</span> <span class="token string">&quot;value2_path&quot;</span> <span class="token string">&quot;value3_path&quot;</span>
</code></pre></div><ul><li><strong><code>yaml_path</code></strong>: Path to the YAML list.</li> <li><strong><code>key_path</code></strong>: Path to the key within the items.</li> <li><strong><code>value1_path</code></strong>: Path to the first value associated with each key.</li> <li><strong><code>value2_path</code></strong>: Path to the second value associated with each key.</li> <li><strong><code>value3_path</code></strong>: Path to the third value associated with each key.</li></ul> <p><strong>Example</strong>:</p> <div class="language-bash extra-class"><pre class="language-bash"><code>parse_yaml <span class="token number">4</span> <span class="token string">&quot;config.items&quot;</span> <span class="token string">&quot;name&quot;</span> <span class="token string">&quot;value1&quot;</span> <span class="token string">&quot;value2&quot;</span> <span class="token string">&quot;value3&quot;</span>
</code></pre></div><p>This command extracts key-value pairs where each key from <code>name</code> has three associated values from <code>value1</code>, <code>value2</code>, and <code>value3</code>.<br>
To access the data use something like this:</p> <div class="language-bash extra-class"><pre class="language-bash"><code>parse_yaml <span class="token number">4</span> Users name pass group shell
<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token string">&quot;<span class="token variable">${<span class="token operator">#</span>Users<span class="token punctuation">[</span>@<span class="token punctuation">]</span>}</span>&quot;</span> <span class="token parameter variable">-ne</span> <span class="token number">0</span> <span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">then</span>
	<span class="token assign-left variable">U_keys</span><span class="token operator">=</span><span class="token punctuation">(</span><span class="token variable"><span class="token variable">$(</span><span class="token function">tr</span> <span class="token string">' '</span> <span class="token string">'\n'</span> <span class="token operator">&lt;&lt;&lt;</span> <span class="token string">&quot;<span class="token variable">${<span class="token operator">!</span>Users<span class="token punctuation">[</span>@<span class="token punctuation">]</span>}</span>&quot;</span> <span class="token operator">|</span> <span class="token function">grep</span> <span class="token parameter variable">-Ev</span> <span class="token string">'\[(0|1|2)\]'</span> <span class="token operator">|</span> <span class="token function">sort</span> <span class="token parameter variable">-u</span><span class="token variable">)</span></span><span class="token punctuation">)</span>
	<span class="token keyword">for</span> <span class="token for-or-select variable">user</span> <span class="token keyword">in</span> <span class="token string">&quot;<span class="token variable">${U_keys<span class="token punctuation">[</span>@<span class="token punctuation">]</span>}</span>&quot;</span><span class="token punctuation">;</span> <span class="token keyword">do</span>
	<span class="token assign-left variable">userpass</span><span class="token operator">=</span><span class="token string">&quot;${Users[&quot;</span><span class="token variable">$user</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token string">&quot;]}&quot;</span>
	<span class="token assign-left variable">usergrp</span><span class="token operator">=</span><span class="token string">&quot;${Users[&quot;</span><span class="token variable">$user</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token string">&quot;]}&quot;</span>
	<span class="token assign-left variable">usershell</span><span class="token operator">=</span><span class="token string">&quot;${Users[&quot;</span><span class="token variable">$user</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token string">&quot;]}&quot;</span>
<span class="token keyword">fi</span>
</code></pre></div><blockquote><p>This was the YAML:</p> <div class="language-yaml extra-class"><pre class="language-yaml"><code><span class="token key atrule">Users</span><span class="token punctuation">:</span>
  <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> USERNAME
    <span class="token key atrule">pass</span><span class="token punctuation">:</span> PASSWORD/%Gen%
    <span class="token key atrule">group</span><span class="token punctuation">:</span> GROUP1<span class="token punctuation">,</span>GROUP2<span class="token punctuation">,</span>GROUP3
    <span class="token key atrule">shell</span><span class="token punctuation">:</span> /path/to/shell
</code></pre></div></blockquote></li></ol></li></ul> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>In general AutoPilot uses <a href="https://github.com/Noam-Alum/utils.sh" target="_blank" rel="noopener noreferrer">utils.sh<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> heavily, it is recommend that you learn how to use its functions before adding something to AutoPilot. (<a href="https://docs.alum.sh/utils.sh/Introduction.html" target="_blank" rel="noopener noreferrer">Link to docs<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>)</p></div> <p>Now that you know the basic functions needed to add/change something in AutoPilot, you need to understand the stracture of AutoPilot.</p> <p>Since AutoPilot revolves around directives each directive has its own function with the same name, but with a prefix of <code>rn_</code> (<code>rn_el</code> for RHEL version of a function), for example:</p> <div class="language-yaml extra-class"><pre class="language-yaml"><code><span class="token key atrule">SomeDirective</span><span class="token punctuation">:</span> Yes
</code></pre></div><div class="language-bash extra-class"><pre class="language-bash"><code><span class="token comment">## SomeDirective</span>
<span class="token keyword">function</span> <span class="token function-name function">rn_SomeDirective</span> <span class="token punctuation">{</span>
    parse_yaml <span class="token number">0</span> SomeDirective
    xecho <span class="token string">&quot;<span class="token variable">$info_prefix</span> &lt;biw&gt;Called SomeDirective, <span class="token variable">$SomeDirective</span>. {{ E-smile }}&lt;/biw&gt;&quot;</span>
<span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function-name function">rn_el_SomeDirective</span> <span class="token punctuation">{</span>
    parse_yaml <span class="token number">0</span> SomeDirective
    xecho <span class="token string">&quot;<span class="token variable">$info_prefix</span> &lt;biw&gt;Called SomeDirective, <span class="token variable">$SomeDirective</span>. {{ E-smile }}&lt;/biw&gt;&quot;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>That is so it can be called when it is mentioned in the configuration file via this part of the script:</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token comment">## Execute functions</span>
<span class="token keyword">for</span> <span class="token for-or-select variable">key</span> <span class="token keyword">in</span> <span class="token string">&quot;<span class="token variable">${keys<span class="token punctuation">[</span>@<span class="token punctuation">]</span>}</span>&quot;</span>
<span class="token keyword">do</span>
  <span class="token keyword">if</span> <span class="token punctuation">[</span><span class="token punctuation">[</span> <span class="token operator">!</span> <span class="token string">&quot;<span class="token variable">$key</span>&quot;</span> <span class="token operator">=~</span> ^<span class="token punctuation">(</span><span class="token string">&quot;Running_OS&quot;</span><span class="token punctuation">)</span>$ <span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">then</span>
    <span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token string">&quot;<span class="token variable">$Running_OS</span>&quot;</span> <span class="token operator">==</span> <span class="token string">&quot;Debian&quot;</span> <span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">then</span>
      rn_<span class="token variable">$key</span>
    <span class="token keyword">else</span>
      rn_el_<span class="token variable">$key</span>
    <span class="token keyword">fi</span>
  <span class="token keyword">fi</span>
<span class="token keyword">done</span>
</code></pre></div><div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>Naming a function like a directive in the configuration file (With the <code>rn_</code> prefix) only calls the function, to also retrieve any data from the directive use the <code>parse_yaml</code> function.</p></div> <h2 id="test-changes"><a href="#test-changes" class="header-anchor">#</a> Test changes</h2> <p>Test the newly added changes by running the script either on your personal computer (if applicable) or a virtual machine.</p> <p>It's highly recommended to use some form of VM setup, to not harm your personal environment.</p> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>I would suggest using <a href="https://www.vagrantup.com/" target="_blank" rel="noopener noreferrer">Vagrant<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>, as it enables the creation of lightweight, reproducible, and portable development environments.</p></div> <p>Using a VM also enables me as the developer a way to recreate the exact circomstances you had while encountering an issue/bug, so you could ask for a helping hand üòÅ.</p> <h2 id="send-a-pr"><a href="#send-a-pr" class="header-anchor">#</a> Send a PR</h2> <p>After making changes to the AutoPilot script, push to your AutoPilot fork then send a PR with detailed explenation of the changes you've made or any other valuable information, for example:</p> <div class="language-markdown extra-class"><pre class="language-markdown"><code><span class="token title important"><span class="token punctuation">#</span> Added Users directive</span>

I've added the Users directive, It's responsable for adding users.

Here's the syntax for the configuration file:
Users:
  <span class="token list punctuation">-</span> name: USERNAME
    pass: PASSWORD/%Gen%
    group: GROUP1,GROUP2,GROUP3
    shell: /path/to/shell

For example:
 Users:
    <span class="token list punctuation">-</span> name: Noam
      pass: 1234
      group: Noam,sudo,admins
      shell: /bin/bash

<span class="token title important"><span class="token punctuation">###</span> Notes</span>
<span class="token list punctuation">-</span> one
<span class="token list punctuation">-</span> two
<span class="token list punctuation">-</span> three
</code></pre></div><hr> <br> <p><strong>Huge thank you to anyone willing to contribute! üôè</strong></p></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ‚Üê
      <a href="/AutoPilot/contribute/docs.html" class="prev">
        Contribute to AutoPilots docs
      </a></span> <span class="next"><a href="/Make-backup/introduction.html">
        introduction
      </a>
      ‚Üí
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.55f39487.js" defer></script><script src="/assets/js/2.caa605eb.js" defer></script><script src="/assets/js/1.11b9c08f.js" defer></script><script src="/assets/js/28.1d24da12.js" defer></script>
  </body>
</html>
