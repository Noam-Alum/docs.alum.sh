<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>script breakdown | ALUM.SH - docs</title>
    <meta name="generator" content="VuePress 1.9.10">
    <link rel="shortcut icon" type="image/png" href="/images/logo.png">
    <meta name="description" content="ALUM.SH Documents">
    
    <link rel="preload" href="/assets/css/0.styles.fdf36a1d.css" as="style"><link rel="preload" href="/assets/js/app.55f39487.js" as="script"><link rel="preload" href="/assets/js/2.caa605eb.js" as="script"><link rel="preload" href="/assets/js/1.11b9c08f.js" as="script"><link rel="preload" href="/assets/js/49.d23acf7a.js" as="script"><link rel="prefetch" href="/assets/js/10.45728484.js"><link rel="prefetch" href="/assets/js/11.6170b35e.js"><link rel="prefetch" href="/assets/js/12.7b1c67c6.js"><link rel="prefetch" href="/assets/js/13.37b4c9f8.js"><link rel="prefetch" href="/assets/js/14.06d64f86.js"><link rel="prefetch" href="/assets/js/15.72a9a369.js"><link rel="prefetch" href="/assets/js/16.89805920.js"><link rel="prefetch" href="/assets/js/17.eb9102ab.js"><link rel="prefetch" href="/assets/js/18.a01b6027.js"><link rel="prefetch" href="/assets/js/19.d81a04ea.js"><link rel="prefetch" href="/assets/js/20.5fe1bb01.js"><link rel="prefetch" href="/assets/js/21.b0b215c1.js"><link rel="prefetch" href="/assets/js/22.55861dc8.js"><link rel="prefetch" href="/assets/js/23.571aa404.js"><link rel="prefetch" href="/assets/js/24.229a1ace.js"><link rel="prefetch" href="/assets/js/25.f245735b.js"><link rel="prefetch" href="/assets/js/26.829f2091.js"><link rel="prefetch" href="/assets/js/27.350dc1b3.js"><link rel="prefetch" href="/assets/js/28.1d24da12.js"><link rel="prefetch" href="/assets/js/29.e2616b8e.js"><link rel="prefetch" href="/assets/js/3.e1592144.js"><link rel="prefetch" href="/assets/js/30.ce74ebbb.js"><link rel="prefetch" href="/assets/js/31.45ff122d.js"><link rel="prefetch" href="/assets/js/32.95cd7272.js"><link rel="prefetch" href="/assets/js/33.b87ff303.js"><link rel="prefetch" href="/assets/js/34.2bb0cd24.js"><link rel="prefetch" href="/assets/js/35.8d6b0130.js"><link rel="prefetch" href="/assets/js/36.677b3ece.js"><link rel="prefetch" href="/assets/js/37.b79ecb69.js"><link rel="prefetch" href="/assets/js/38.1a8e34c2.js"><link rel="prefetch" href="/assets/js/39.b8b77210.js"><link rel="prefetch" href="/assets/js/4.36ae442e.js"><link rel="prefetch" href="/assets/js/40.5c788e72.js"><link rel="prefetch" href="/assets/js/41.93c667b9.js"><link rel="prefetch" href="/assets/js/42.1aeb544d.js"><link rel="prefetch" href="/assets/js/43.6a36f6f9.js"><link rel="prefetch" href="/assets/js/44.0b686701.js"><link rel="prefetch" href="/assets/js/45.ad9dcd14.js"><link rel="prefetch" href="/assets/js/46.439872eb.js"><link rel="prefetch" href="/assets/js/47.077b7351.js"><link rel="prefetch" href="/assets/js/48.3348ebef.js"><link rel="prefetch" href="/assets/js/5.2c656b35.js"><link rel="prefetch" href="/assets/js/50.c9914614.js"><link rel="prefetch" href="/assets/js/51.0df236d4.js"><link rel="prefetch" href="/assets/js/52.5c4d2b1b.js"><link rel="prefetch" href="/assets/js/53.cedc56d6.js"><link rel="prefetch" href="/assets/js/54.eb681895.js"><link rel="prefetch" href="/assets/js/55.1ff20118.js"><link rel="prefetch" href="/assets/js/56.01664e32.js"><link rel="prefetch" href="/assets/js/57.736fe7dc.js"><link rel="prefetch" href="/assets/js/58.bbabd896.js"><link rel="prefetch" href="/assets/js/59.9affad11.js"><link rel="prefetch" href="/assets/js/6.3ec5bc43.js"><link rel="prefetch" href="/assets/js/60.49672ad4.js"><link rel="prefetch" href="/assets/js/61.5c042d6d.js"><link rel="prefetch" href="/assets/js/7.b0488cc8.js"><link rel="prefetch" href="/assets/js/vendors~docsearch.d098b00c.js">
    <link rel="stylesheet" href="/assets/css/0.styles.fdf36a1d.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/images/logo.png" alt="ALUM.SH - docs" class="logo"> <span class="site-name can-hide">ALUM.SH - docs</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="https://alum.sh/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Main site
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="/" class="nav-link">
  Documents
</a></div><div class="nav-item"><a href="https://alum.sh/assets/requests.php" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Requests
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <a href="https://github.com/Noam-Alum/" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="https://alum.sh/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Main site
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="/" class="nav-link">
  Documents
</a></div><div class="nav-item"><a href="https://alum.sh/assets/requests.php" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Requests
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <a href="https://github.com/Noam-Alum/" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><a href="/" aria-current="page" class="sidebar-link">ALUM.SH - docs</a></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>utils.sh</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>AutoPilot - It's simple</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Make backup</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>OTS </span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>WP manager</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>wp_recovery</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>jet-tools</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/jet-tools/introduction-and-usage.html" class="sidebar-link">introduction &amp;&amp; usage</a></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>tools</span> <span class="arrow right"></span></p> <!----></section></li><li><a href="/jet-tools/script-breakdown.html" aria-current="page" class="active sidebar-link">script breakdown</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/jet-tools/script-breakdown.html#structure" class="sidebar-link">Structure</a></li><li class="sidebar-sub-header"><a href="/jet-tools/script-breakdown.html#visual-explanation" class="sidebar-link">Visual explanation</a></li></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="script-breakdown"><a href="#script-breakdown" class="header-anchor">#</a> script breakdown</h1> <details><summary>Full script:</summary> <p><iframe src="https://gitcodeembedder.blogspot.com/?gh=Noam-Alum/jet-tools/main/jet-tools&amp;lang=bash" width="100%" height="700px" frameborder="0"></iframe></p></details> <h2 id="structure"><a href="#structure" class="header-anchor">#</a> Structure</h2> <p>The general structure of the jet-tools script is:</p> <ul><li><a href="/jet-tools/script-breakdown.html#functions"><strong>Functions</strong></a></li> <li><a href="/jet-tools/script-breakdown.html#define-tools"><strong>Define tools</strong></a></li> <li><a href="/jet-tools/script-breakdown.html#call-tool"><strong>Call tool</strong></a></li></ul> <p>All of the tools functions in the script are carefully named in the <code>Tools</code> array:</p> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token assign-left variable">Tools</span><span class="token operator">=</span><span class="token punctuation">(</span><span class="token string">&quot;1.imunify malicious list&quot;</span> <span class="token string">&quot;| 2.Alter tables&quot;</span> <span class="token string">&quot;| 3.WordPress related&quot;</span> <span class="token string">&quot;| 4.Running proc&quot;</span> <span class="token string">&quot;| 5.litespeed data domains&quot;</span> <span class="token string">&quot;| 6.download data&quot;</span><span class="token punctuation">)</span>
</code></pre></div><p>Basically the items in the array are the <a href="/jet-tools/script-breakdown.html#functions">functions</a> names but with spaces instead of hyphens (the item <code>imunify malicious list</code> is equal to a function named <code>imunify_malicious_list</code>), this lets be call the function with ease and makes adding/removing functions (tools) convenient.</p> <p>POC:</p> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token keyword">function</span> <span class="token function-name function">say_hello</span> <span class="token punctuation">{</span>
    <span class="token builtin class-name">echo</span> <span class="token string">&quot;hello&quot;</span>
<span class="token punctuation">}</span>

<span class="token assign-left variable">ThisIsSayHello</span><span class="token operator">=</span><span class="token string">&quot;say_hello&quot;</span>
<span class="token variable">$ThisIsSayHello</span>
hello
</code></pre></div><h3 id="define-tools"><a href="#define-tools" class="header-anchor">#</a> Define tools:</h3> <p>The Define tools section is meant to map user input to the tool (function) needed to be called</p> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token builtin class-name">echo</span> <span class="token string">&quot;Jet-Tools:&quot;</span>
<span class="token assign-left variable">Tools</span><span class="token operator">=</span><span class="token punctuation">(</span><span class="token string">&quot;imunify malicious list&quot;</span> <span class="token string">&quot;Alter tables&quot;</span> <span class="token string">&quot;WordPress related&quot;</span> <span class="token string">&quot;Running proc&quot;</span> <span class="token string">&quot;litespeed data domains&quot;</span> <span class="token string">&quot;download data&quot;</span><span class="token punctuation">)</span>
get_input <span class="token variable">$1</span>
</code></pre></div><p>the Define tools section uses the <a href="/jet-tools/script-breakdown.html#get-input">get_input</a> function to allow users to select what tool they want to use.
This function would output the full array of tools and a prompt asking the user which tool he whats to use, if you take a look of the third line you would see how I implemented the use of options all trough this script. (if <code>$1</code> is empty then get the info else the variable is equal to <code>$1</code>)</p> <p>Finally the <code>$tool_id</code> is subtracted by one:</p> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token assign-left variable">tool_id</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$((</span> $tool_id <span class="token operator">-</span> <span class="token number">1</span> <span class="token variable">))</span></span>
</code></pre></div><div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>The <code>$tool_id</code> variable is the index of the item in the <code>Tools</code> array that represents the tool.</p></div> <h3 id="call-tool"><a href="#call-tool" class="header-anchor">#</a> Call tool:</h3> <p>The call tool section formats the item in the <code>Tools</code> array in the index of <code>$tool_id</code> and saves it as <code>$tool_function</code> for later use.</p> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token assign-left variable">tool_function</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">echo</span> <span class="token string">&quot;<span class="token variable">${Tools<span class="token punctuation">[</span>$tool_id<span class="token punctuation">]</span>}</span>&quot;</span> <span class="token operator">|</span> <span class="token function">tr</span> <span class="token parameter variable">-s</span> <span class="token string">&quot; &quot;</span> <span class="token string">&quot;_&quot;</span><span class="token punctuation">}</span><span class="token variable">)</span></span>
</code></pre></div><p>Then it echos it (The item in the array with only its name):</p> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token builtin class-name">echo</span> <span class="token parameter variable">-e</span> <span class="token string">&quot;<span class="token entity" title="\n">\n</span>----<span class="token entity" title="\n">\n</span><span class="token variable">$tool_function</span> :&quot;</span>
</code></pre></div><p>Finally it calls the function with the same name as the value of <code>$tool_function</code> with possible options:</p> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token builtin class-name">shift</span> <span class="token number">1</span>
<span class="token variable">$tool_function</span> <span class="token string">&quot;<span class="token variable">$1</span>&quot;</span> <span class="token string">&quot;<span class="token variable">$2</span>&quot;</span> <span class="token string">&quot;<span class="token variable">$3</span>&quot;</span> <span class="token string">&quot;<span class="token variable">$4</span>&quot;</span>
</code></pre></div><p>We have to <code>shift 1</code> because we've used <code>$1</code> in the <a href="/jet-tools/script-breakdown.html#define-tools">Define tools</a> section.</p> <h3 id="functions"><a href="#functions" class="header-anchor">#</a> Functions:</h3> <p>The Functions zone holds all the functions used in the script, it includes the following functions:</p> <ul><li><a href="/jet-tools/script-breakdown.html#get-user-input">get_user_input</a></li> <li><a href="/jet-tools/script-breakdown.html#get-input">get_input</a></li> <li><a href="/jet-tools/tools/imunify-malicious-list.html">imunify_malicious_list</a></li> <li><a href="/jet-tools/tools/Alter-tables.html">Alter_tables</a></li> <li><a href="/jet-tools/tools/WordPress-related.html">WordPress_related</a></li> <li><a href="/jet-tools/tools/Running_proc.html">Running_proc</a></li> <li><a href="/jet-tools/tools/litespeed_data_domains.html">litespeed_data_domains</a></li> <li><a href="/jet-tools/tools/download_data.html">download_data</a></li></ul> <h4 id="get-user-input"><a href="#get-user-input" class="header-anchor">#</a> get_user_input:</h4> <p>Function:</p> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token keyword">function</span> <span class="token function-name function">get_user_input</span> <span class="token punctuation">{</span>
	<span class="token assign-left variable">var_name</span><span class="token operator">=</span><span class="token variable">$1</span>
	<span class="token assign-left variable">var_type</span><span class="token operator">=</span><span class="token variable">$2</span>
	<span class="token builtin class-name">shift</span> <span class="token number">2</span>  <span class="token comment"># Shift the arguments to access the remaining ones</span>

	<span class="token comment"># Join the remaining arguments to form the complete prompt</span>
	<span class="token assign-left variable">prompt</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$*</span>&quot;</span>

	<span class="token builtin class-name">read</span> <span class="token parameter variable">-p</span> <span class="token string">&quot; - <span class="token variable">$prompt</span>&quot;</span> <span class="token variable">$var_name</span> <span class="token operator">&lt;</span> /dev/tty

	<span class="token keyword">while</span> <span class="token punctuation">[</span> <span class="token parameter variable">-z</span> <span class="token string">&quot;<span class="token variable">${<span class="token operator">!</span>var_name}</span>&quot;</span> <span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">do</span>
		<span class="token builtin class-name">read</span> <span class="token parameter variable">-p</span> <span class="token string">&quot; - <span class="token variable">$prompt</span>&quot;</span> <span class="token variable">$var_name</span> <span class="token operator">&lt;</span> /dev/tty
	<span class="token keyword">done</span>

	<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token string">&quot;<span class="token variable">$var_type</span>&quot;</span> <span class="token operator">==</span> <span class="token string">&quot;INT&quot;</span> <span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">then</span>
		<span class="token keyword">while</span> <span class="token operator">!</span> <span class="token punctuation">[</span><span class="token punctuation">[</span> <span class="token variable">${<span class="token operator">!</span>var_name}</span> <span class="token operator">=~</span> ^<span class="token punctuation">[</span><span class="token number">0</span>-9<span class="token punctuation">]</span>+$ <span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">do</span>
			<span class="token builtin class-name">echo</span> <span class="token string">&quot; - Insert an integer!&quot;</span>
			<span class="token builtin class-name">read</span> <span class="token parameter variable">-p</span> <span class="token string">&quot; - <span class="token variable">$prompt</span>&quot;</span> <span class="token variable">$var_name</span> <span class="token operator">&lt;</span> /dev/tty
		<span class="token keyword">done</span>
	<span class="token keyword">elif</span> <span class="token punctuation">[</span> <span class="token string">&quot;<span class="token variable">$var_type</span>&quot;</span> <span class="token operator">==</span> <span class="token string">&quot;STR&quot;</span> <span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">then</span>
		<span class="token keyword">while</span> <span class="token punctuation">[</span><span class="token punctuation">[</span> <span class="token parameter variable">-n</span> <span class="token string">&quot;<span class="token variable">${<span class="token operator">!</span>var_name}</span>&quot;</span> <span class="token operator">&amp;&amp;</span> <span class="token string">&quot;<span class="token variable">${<span class="token operator">!</span>var_name}</span>&quot;</span> <span class="token operator">=~</span> ^<span class="token punctuation">[</span><span class="token number">0</span>-9<span class="token punctuation">]</span>+$ <span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">do</span>
			<span class="token builtin class-name">echo</span> <span class="token string">&quot; - Insert a string!&quot;</span>
			<span class="token builtin class-name">read</span> <span class="token parameter variable">-p</span> <span class="token string">&quot; - <span class="token variable">$prompt</span>&quot;</span> <span class="token variable">$var_name</span> <span class="token operator">&lt;</span> /dev/tty
		<span class="token keyword">done</span>
	<span class="token keyword">fi</span>

	<span class="token builtin class-name">export</span> <span class="token variable">$var_name</span>
<span class="token punctuation">}</span>
</code></pre></div><p>The get_user_input function takes two inputs, <strong>variable name</strong>, <strong>type</strong> and <strong>prompt</strong>:</p> <div class="language-sh extra-class"><pre class="language-sh"><code>get_user_input <span class="token operator">&lt;</span>VAR-NAME<span class="token operator">&gt;</span> <span class="token operator">&lt;</span>INT/STR<span class="token operator">&gt;</span> <span class="token operator">&lt;</span>PROMPT<span class="token operator">&gt;</span>
</code></pre></div><p>And uses read to allocate the input from users, then it checks if the input is empty and if so asks for the input again.
If the variable is an int the function verifies that the input is an integer, if not it asks for the input again, the same for strings.</p> <p>Finally it exports the users input as a variable named based on what you provided the function.</p> <h4 id="get-input"><a href="#get-input" class="header-anchor">#</a> get_input:</h4> <p>Function:</p> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token keyword">function</span> <span class="token function-name function">get_input</span> <span class="token punctuation">{</span>
	<span class="token builtin class-name">echo</span> <span class="token parameter variable">-e</span> <span class="token string">&quot;<span class="token variable"><span class="token variable">$(</span><span class="token keyword">for</span> <span class="token punctuation">((</span>i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> $<span class="token punctuation">{</span>#Tools<span class="token punctuation">[</span>@<span class="token punctuation">]</span><span class="token punctuation">}</span><span class="token punctuation">;</span> i++<span class="token punctuation">)</span><span class="token variable">)</span></span>; do echo &quot;</span><span class="token variable"><span class="token variable">$((</span> $i <span class="token operator">+</span> <span class="token number">1</span><span class="token variable">))</span></span><span class="token builtin class-name">.</span><span class="token variable">${Tools<span class="token punctuation">[</span>$i<span class="token punctuation">]</span>}</span><span class="token string">&quot; | tr -s &quot;</span> <span class="token string">&quot; &quot;</span>_<span class="token string">&quot; &amp;&amp; [ <span class="token variable"><span class="token variable">$((</span> $i <span class="token operator">+</span> <span class="token number">1</span> <span class="token variable">))</span></span> != <span class="token variable">${<span class="token operator">#</span>Tools<span class="token punctuation">[</span>@<span class="token punctuation">]</span>}</span> ] &amp;&amp; echo &quot;</span><span class="token operator">|</span><span class="token string">&quot;; done | xargs)<span class="token entity" title="\n">\n</span><span class="token variable">$1</span><span class="token entity" title="\n">\n</span><span class="token variable">$1</span>&quot;</span>
	<span class="token punctuation">[</span> <span class="token parameter variable">-z</span> <span class="token variable">$1</span> <span class="token punctuation">]</span> <span class="token operator">&amp;&amp;</span> <span class="token builtin class-name">read</span> <span class="token parameter variable">-p</span> <span class="token string">&quot;- Which tool do you want to use? : &quot;</span> tool_id <span class="token operator">&lt;</span> /dev/tty <span class="token operator">||</span> <span class="token assign-left variable">tool_id</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$1</span>&quot;</span>

	<span class="token keyword">while</span> <span class="token punctuation">[</span> <span class="token parameter variable">-z</span> <span class="token string">&quot;<span class="token variable">$tool_id</span>&quot;</span> <span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">do</span>
		get_input
	<span class="token keyword">done</span>

	<span class="token keyword">while</span> <span class="token punctuation">[</span> <span class="token variable">$tool_id</span> <span class="token parameter variable">-gt</span> <span class="token variable">${<span class="token operator">#</span>Tools<span class="token punctuation">[</span>@<span class="token punctuation">]</span>}</span> <span class="token punctuation">]</span> <span class="token operator">||</span> <span class="token punctuation">[</span> <span class="token variable">$tool_id</span> <span class="token parameter variable">-lt</span> <span class="token number">0</span> <span class="token punctuation">]</span> <span class="token operator">||</span> <span class="token operator">!</span> <span class="token punctuation">[</span><span class="token punctuation">[</span> <span class="token variable">$tool_id</span> <span class="token operator">=~</span> ^<span class="token punctuation">[</span><span class="token number">0</span>-9<span class="token punctuation">]</span>+$ <span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">do</span>
		<span class="token builtin class-name">echo</span> <span class="token parameter variable">-e</span> <span class="token string">&quot;<span class="token entity" title="\033">\033</span>[0;31mYou can't use <span class="token variable">$tool_id</span>, it does not exist or is not a valid integer!<span class="token entity" title="\033">\033</span>[0m&quot;</span>
			get_input
	<span class="token keyword">done</span>
<span class="token punctuation">}</span>
</code></pre></div><p>This function is responsible for getting the users tool choice.
If the input equals zero, not an integer, greater than the arrays length or equals to nothing the function would run again. (asking again for the input)</p> <h2 id="visual-explanation"><a href="#visual-explanation" class="header-anchor">#</a> Visual explanation</h2> <p><img src="/images/jet-tools-example.png" alt="image"></p></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/jet-tools/tools/download_data.html" class="prev">
        download data
      </a></span> <!----></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.55f39487.js" defer></script><script src="/assets/js/2.caa605eb.js" defer></script><script src="/assets/js/1.11b9c08f.js" defer></script><script src="/assets/js/49.d23acf7a.js" defer></script>
  </body>
</html>
